import{r as t,j as E,k as x}from"./index-jR0FLVqU.js";import{q as w,r as L,s as f,t as g,v}from"./styles-B8Yckata.js";import{u as y}from"./useTransitionState-DSLsPxYc.js";const S=({direction:i,anchorRect:e,height:a,transitionStatus:c,...o})=>{const[n,u]=t.useState(w),d=t.useMemo(()=>document.documentElement.scrollHeight-e.height-e.y-8,[e]),r=t.useRef(null),l=t.useMemo(()=>L({anchorRect:e,direction:i,dropdownRect:n,offset:8}),[n,i]);return t.useLayoutEffect(()=>{u(f(r.current))},[]),E.jsx(g,{transitionStatus:c,direction:l,anchorRect:e,dropdownRect:n,maxHeight:d,ref:r,height:a,minWidth:e.width,...o})},A=({isDisabled:i,isOpen:e,direction:a="bottom",width:c,anchorRef:o,...n})=>{const[u,d]=t.useState(w),[r,l]=t.useState(null),[m,p]=y({timeout:500,unmountOnExit:!0,initialEntered:e}),s=()=>{o&&o.current&&d(f(o.current))};return t.useEffect(()=>(window.addEventListener("resize",s),window.addEventListener("scroll",s,!0),()=>{window.removeEventListener("resize",s),window.addEventListener("scroll",s,!0)}),[u]),t.useEffect(()=>{p(e)},[e]),t.useLayoutEffect(()=>{s()},[m]),t.useEffect(()=>{const D=document.getElementsByTagName("body").item(0);l(D)},[]),i?null:E.jsx(v,{children:m.isEnter&&r&&x.createPortal(E.jsx(S,{...n,direction:a,transitionStatus:m.status,anchorRef:o,anchorRect:u,width:c||"max-content"}),r)})};export{A as D};
