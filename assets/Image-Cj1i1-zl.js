import{r,j as e}from"./index-jR0FLVqU.js";import{I as w,w as y,x as E,y as h,b as I,z as L,T as k,E as P,G as z,S as O,H as T}from"./styles-B8Yckata.js";const G=({src:s,fallback:t,onError:i,alt:c,height:S,width:f,placeholder:d,isPreview:o=!1})=>{const[p,x]=r.useState(!1),[m,n]=r.useState(!0),[a,j]=r.useState(!s);r.useEffect(()=>j(!s),[s]);const v=l=>{j(!0),i&&i(l)},C=()=>{o&&!a&&s&&(x(!0),n(!0))},u=()=>{x(!1)},g=a&&t?t:s,F=(!g||a)&&d;return e.jsxs(e.Fragment,{children:[e.jsx(w,{height:S,isPreview:o&&!a&&!!s,width:f,onClick:C,children:F?e.jsx(y,{children:d}):e.jsxs(e.Fragment,{children:[e.jsx(E,{src:g,alt:c,onError:v,onLoad:()=>n(!1)}),m&&e.jsx(h,{children:e.jsx(I,{view:"oval"})}),o&&!a&&s&&e.jsx(L,{children:e.jsx(k,{size:"m",color:"unset",children:"Preview"})})]})}),p&&e.jsxs(P,{onClick:u,children:[e.jsx(z,{view:"icon",onClick:u,children:e.jsx(O,{})}),e.jsx(T,{src:s,alt:c,onClick:l=>l.stopPropagation(),onLoad:()=>n(!1)}),m&&e.jsx(h,{children:e.jsx(I,{view:"oval"})})]})]})};export{G as I};
