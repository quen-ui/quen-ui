import{r as f,j as l}from"./index-jR0FLVqU.js";import{U as j,V as w,T as o,W as S,X as y,F as V}from"./styles-B8Yckata.js";import{T as I}from"./Tag-B41aw-kE.js";function D(e,t){return typeof t>"u"?null:typeof t=="string"||typeof t=="number"?t||null:t===null?null:Array.isArray(t)?t.map(s=>typeof s=="string"||typeof t=="number"?s:e(s)):e(t)}function L(e){const[t,s]=f.useState(""),[C,r]=f.useState(D(e.getItemValue,e.value)),d=f.useMemo(()=>{var a;return((a=e.items)==null?void 0:a.filter(c=>{var n;return(n=e.getItemLabel)==null?void 0:n.call(e,c).toLowerCase().includes(t.toLowerCase())}))??[]},[e.items,t]);function u(a){var c,n,h,m;if(e.isMulti&&Array.isArray(a)){const i=e;if(e.onChangeReturnValue==="value"&&((c=e.onChange)==null||c.call(e,a)),e.onChangeReturnValue==="item"){const x=a.map(b=>e.items.find(g=>e.getItemValue(g)===b));(n=i.onChange)==null||n.call(i,x)}r(a||null)}else{const i=e,x=e.items.find(b=>{var g;return((g=e.getItemValue)==null?void 0:g.call(e,b))===a})??null;e.onChangeReturnValue==="item"?(h=i.onChange)==null||h.call(i,x||null):(m=i.onChange)==null||m.call(i,a),r(a||null)}s("")}return{...e,items:d,handleChange:u,searchValue:t,currentValue:C,size:e.size||"m"}}const R=e=>e.label,A=e=>(e==null?void 0:e.value)||null,F=e=>e.isDisabled;function _(e){return{...e,getItemLabel:e.getItemLabel||R,getItemValue:e.getItemValue||A,getItemDisabled:e.getItemDisabled||F}}const k=e=>f.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:16,height:16,viewBox:"0 0 24 24",...e},f.createElement("path",{d:"M6 9l6 6 6-6",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})),G=e=>{const{items:t,handleChange:s,currentValue:C,size:r,getItemLabel:d,getItemValue:u,placeholder:a,getItemDisabled:c}=L(_(e));return l.jsxs(j,{size:r,error:e.error,children:[l.jsx(w,{}),e.label&&l.jsxs(o,{as:"label",size:r,for:e.id,children:[e.label,e.isRequired&&l.jsx("span",{className:"text-field__required",children:"*"})]}),l.jsx(S,{mode:e.isMulti?"multiple":void 0,autoFocus:e.isAutoFocus,allowClear:e.isClearable,onClear:e.onClear,menuItemSelectedIcon:null,loading:e.isLoading,prefix:e.leftContent,suffixIcon:l.jsxs(V,{gap:4,align:"center",children:[e.rightContent,l.jsx(k,{className:"icon-arrow "})]}),labelRender:n=>l.jsx(o,{size:r,children:n.label}),open:e.open,disabled:e.isDisabled,showSearch:!0,value:C||null,id:e.id,placeholder:l.jsx(o,{size:r,children:a}),notFoundContent:e.notFoundContent,defaultOpen:e.defaultOpen,onChange:s,tagRender:({label:n,disabled:h,onClose:m})=>l.jsx(I,{size:r,isClosable:!0,onClickClose:()=>m(),isDisabled:h,children:n}),children:t.map(n=>l.jsx(y,{value:u==null?void 0:u(n),disabled:c==null?void 0:c(n),children:l.jsx(o,{className:"quen-ui__select-option",size:r,children:d==null?void 0:d(n)})},u==null?void 0:u(n)))}),typeof e.error=="string"&&l.jsx(o,{className:"text-field__error-message",size:"xs",children:e.error})]})};export{G as S};
