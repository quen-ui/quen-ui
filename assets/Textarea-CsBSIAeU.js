import{r as f,i as C,v as $,j as p}from"./index-jR0FLVqU.js";import{ab as P,ac as q,T as F,ad as G,ae as O,B as Y,S as U}from"./styles-B8Yckata.js";var X=f.useLayoutEffect,Z=function(e){var r=C.useRef(e);return X(function(){r.current=e}),r},W=function(e,r){if(typeof e=="function"){e(r);return}e.current=r},J=function(e,r){var t=C.useRef();return C.useCallback(function(i){e.current=i,t.current&&W(t.current,null),t.current=r,r&&W(r,i)},[r])},j={"min-height":"0","max-height":"none",height:"0",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0",display:"block"},K=function(e){Object.keys(j).forEach(function(r){e.style.setProperty(r,j[r],"important")})},k=K,a=null,A=function(e,r){var t=e.scrollHeight;return r.sizingStyle.boxSizing==="border-box"?t+r.borderSize:t-r.paddingSize};function Q(n,e,r,t){r===void 0&&(r=1),t===void 0&&(t=1/0),a||(a=document.createElement("textarea"),a.setAttribute("tabindex","-1"),a.setAttribute("aria-hidden","true"),k(a)),a.parentNode===null&&document.body.appendChild(a);var i=n.paddingSize,h=n.borderSize,o=n.sizingStyle,b=o.boxSizing;Object.keys(o).forEach(function(d){var S=d;a.style[S]=o[S]}),k(a),a.value=e;var s=A(a,n);a.value=e,s=A(a,n),a.value="x";var v=a.scrollHeight-i,g=v*r;b==="border-box"&&(g=g+i+h),s=Math.max(g,s);var c=v*t;return b==="border-box"&&(c=c+i+h),s=Math.min(c,s),[s,v]}var I=function(){},V=function(e,r){return e.reduce(function(t,i){return t[i]=r[i],t},{})},D=["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth","boxSizing","fontFamily","fontSize","fontStyle","fontWeight","letterSpacing","lineHeight","paddingBottom","paddingLeft","paddingRight","paddingTop","tabSize","textIndent","textRendering","textTransform","width","wordBreak","wordSpacing","scrollbarGutter"],ee=!!document.documentElement.currentStyle,te=function(e){var r=window.getComputedStyle(e);if(r===null)return null;var t=V(D,r),i=t.boxSizing;if(i==="")return null;ee&&i==="border-box"&&(t.width=parseFloat(t.width)+parseFloat(t.borderRightWidth)+parseFloat(t.borderLeftWidth)+parseFloat(t.paddingRight)+parseFloat(t.paddingLeft)+"px");var h=parseFloat(t.paddingBottom)+parseFloat(t.paddingTop),o=parseFloat(t.borderBottomWidth)+parseFloat(t.borderTopWidth);return{sizingStyle:t,paddingSize:h,borderSize:o}},re=te;function E(n,e,r){var t=Z(r);f.useLayoutEffect(function(){var i=function(o){return t.current(o)};if(n)return n.addEventListener(e,i),function(){return n.removeEventListener(e,i)}},[])}var ne=function(e,r){E(document.body,"reset",function(t){e.current.form===t.target&&r(t)})},ie=function(e){E(window,"resize",e)},ae=function(e){E(document.fonts,"loadingdone",e)},oe=["cacheMeasurements","maxRows","minRows","onChange","onHeightChange"],se=function(e,r){var t=e.cacheMeasurements,i=e.maxRows,h=e.minRows,o=e.onChange,b=o===void 0?I:o,s=e.onHeightChange,v=s===void 0?I:s,g=P(e,oe),c=g.value!==void 0,d=f.useRef(null),S=J(d,r),y=f.useRef(0),R=f.useRef(),x=function(){var u=d.current,z=t&&R.current?R.current:re(u);if(z){R.current=z;var w=Q(z,u.value||u.placeholder||"x",h,i),m=w[0],T=w[1];y.current!==m&&(y.current=m,u.style.setProperty("height",m+"px","important"),v(m,{rowHeight:T}))}},H=function(u){c||x(),b(u)};return f.useLayoutEffect(x),ne(d,function(){if(!c){var L=d.current.value;requestAnimationFrame(function(){var u=d.current;u&&L!==u.value&&x()})}}),ie(x),ae(x),f.createElement("textarea",$({},g,{onChange:H,ref:S}))},de=f.forwardRef(se);const le=({value:n,onBlur:e,onFocus:r,onChange:t,onClear:i,leftContent:h,rightContent:o,id:b,name:s,className:v,label:g,size:c="m",isDisabled:d,isRequired:S,error:y,placeholder:R,isClearable:x,classNameTextarea:H,autosize:L,maxRows:u,minRows:z})=>{const[w,m]=f.useState(!1),T=f.useRef(null),N=l=>{t==null||t(l.target.value,l)},_=()=>{var l;m(!0),(l=T.current)==null||l.click()},B=l=>{m(!1),e==null||e(l)},M=l=>{l.stopPropagation(),i==null||i(l)};return p.jsxs(q,{className:v,id:b,children:[g&&p.jsxs(F,{as:"label",size:c,children:[g,S&&p.jsx("span",{className:"text-field__required",children:"*"})]}),p.jsxs(G,{isDisabled:d,size:c,onClick:_,isFocus:w,error:y,children:[h,p.jsx(O,{disabled:d,className:H,name:s,ref:T,size:c,forwardedAs:L?de:"textarea",value:n,onChange:N,onBlur:B,placeholder:R,onFocus:r,maxRows:u,minRows:z,rows:z}),x&&p.jsx(Y,{view:"icon",size:"xs",onClick:M,isDisabled:d,children:p.jsx(U,{width:16,height:16})}),o]}),typeof y=="string"&&p.jsx(F,{className:"text-field__error-message",size:"xs",children:y})]})};export{le as T};
