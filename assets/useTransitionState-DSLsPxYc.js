import{r as n}from"./index-jR0FLVqU.js";const I=0,g=1,S=2,f=3,l=4,G=5,D=6,M=["preEnter","entering","entered","preExit","exiting","exited","unmounted"],U=e=>({_s:e,status:M[e],isEnter:e<f,isMounted:e!==D,isResolved:e===S||e>l}),m=e=>e?D:G,P=(e,t)=>{switch(e){case g:case I:return S;case l:case f:return m(t)}},j=e=>typeof e=="object"?[e.enter,e.exit]:[e,e],v=(e,t)=>setTimeout(()=>{isNaN(document.body.offsetTop)||e(t+1)},0),y=(e,t,o,a,i)=>{clearTimeout(a.current);const c=U(e);t(c),o.current=c,i&&i({current:c})},q=({enter:e=!0,exit:t=!0,preEnter:o,preExit:a,timeout:i,initialEntered:c,mountOnEnter:X,unmountOnExit:T,onStateChange:u}={})=>{const[_,x]=n.useState(()=>U(c?S:m(X))),E=n.useRef(_),r=n.useRef(),[N,b]=j(i),d=n.useCallback(()=>{const s=P(E.current._s,T);s&&y(s,x,E,r,u)},[u,T]),w=n.useCallback(s=>{const R=k=>{switch(y(k,x,E,r,u),k){case g:N>=0&&(r.current=setTimeout(d,N));break;case l:b>=0&&(r.current=setTimeout(d,b));break;case I:case f:r.current=v(R,k);break}},p=E.current.isEnter;typeof s!="boolean"&&(s=!p),s?!p&&R(e?o?I:g:S):p&&R(t?a?f:l:m(T))},[d,u,e,t,o,a,N,b,T]);return[_,w,d]};export{q as u};
